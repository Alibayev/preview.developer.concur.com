---
title: Spend User Provisioning Post
layout: reference
---

# Spend User Provisioning - POST

{% include prerelease.html %}

Spend User Provisioning allows callers to **CREATE** a user and associated data in the SAP Concur spend domain.

## Create Spend User Resource <a name="create-spend-user-resource"></a>

By creating one or more provisioning request containing spend relevant data using the `/Bulk` endpoint to create new spend user resources. This section discusses the spend extensions and how to use them in tandem with the core extensions to provision a user with spend data. In order to create a user within the SAP Concur interface, the provision request must contain the information required to also provision the core user.

**POST** is used as the provision operation for creating a new resource.

**NOTE:** The Spend User extension is the required foundation on which the other spend extensions depend. Without a successful Spend User save, or the existence of a Spend User, the other spend extensions cannot be leveraged for any further operation.

### Scopes <a name="scopes"></a>

- `spend.user.general.writeonly` - Refer to [Scope Usage](./v4.spend-user-get-started.md#scope-usage-a-namescope-usagea) for full details.

### Request <a name="request"></a>

#### Endpoint: Bulk

```shell
POST https://www.us.api.concursolutions.com/provisioning/v4/Bulk?companyId={CompanyId}
```

#### Parameters

|Name|Type|Format|Description|
|----|:---:|:----:|-------------|
|CompanyId|`string`|[RFC 4122 A Universally Unique IDentifier (UUID) URN Namespace](https://tools.ietf.org/html/rfc4122)|The unique identifier of a Company. Required with X509 authentication.|

#### Headers

|Name|Type|Format|Description| 
|----|:---:|:----:|-----------|
|concur-correlationid|`string`|[RFC 4122 A Universally Unique IDentifier (UUID) URN Namespace](https://tools.ietf.org/html/rfc4122) | A SAP Concur specific custom header used for technical support|
|Content-Type|`string`| [RFC 7231 Content-Type](https://tools.ietf.org/html/rfc7231#section-3.1.1.5) | Specify the nature of the data in the body of an entity, by giving type and subtype identifiers, and by providing auxiliary information that may be required for certain types (https://www.w3.org/Protocols/rfc1341/4_Content-Type.html) </br> Ex: `application/json`, `application/scim+json`|

#### Payload

* [Bulk Request](#bulk-request)

### Response <a name="response"></a>

#### Status Codes

* [200 OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)
* [400 Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)
* [401 Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)
* [402 Payment Required](https://tools.ietf.org/html/rfc7231#section-6.5.2)
* [403 Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)
* [500 Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)
* [502 Bad Gateway](https://tools.ietf.org/html/rfc7231#section-6.6.3)

### Examples <a name="examples"></a>

#### Bulk Request

```json
{
    "schemas": [
        "urn:ietf:params:scim:api:messages:2.0:BulkRequest"
    ],
    "failOnErrors": 1,
    "Operations": [
        {
            "method": "POST",
            "path": "/Users",
            "bulkId": "bulk-operation-1",
            "data": {
                "userName": "Chris.doe198@sap.com",
                "active": true,
                "name": {
                    "formatted": "Chris Doe",
                    "legalName": "Chris Doe",
                    "familyName": "Doe",
                    "givenName": "Chris"
                },
                "emails": [
                    {
                        "value": "Chris.doe198@sap.com",
                        "type": "Work"
                    }
                ],
                "entitlements": [
                    "Expense"
                ],
                "urn:ietf:params:scim:schemas:extension:enterprise:2.0:User": {
                    "employeeNumber": "3749",
                    "companyId": "xxxxxxxx-xxx-xxx-xxx-9300b1c317xxx"
                },
                "urn:ietf:params:scim:schemas:extension:spend:2.0:User": {
                    "reimbursementCurrency": "USD",
                    "reimbursementType": "CONCUR_PAY",
                    "ledgerCode": "DEFAULT",
                    "country": "US",
                    "stateProvince": "WA",
                    "locale": "en-US",
                    "customData": [
                        {
                            "id": "custom1",
                            "value": "testing"
                        },
                        {
                            "id": "custom2",
                            "value": "tested"
                        },
                        {
                            "id": "orgUnit1",
                            "value": "testDepartment"
                        },
                        {
                            "id": "orgUnit2",
                            "value": "testSquadAlpha"
                        }
                    ]
                },
                "urn:ietf:params:scim:schemas:extension:spend:2.0:Approver": {
                    "request": [
                        {
                            "approver": {
                                "employeeNumber": "requestApprover"
                            },
                            "primary": true
                        }
                    ],
                    "report": [
                        {
                            "approver": {
                                "employeeNumber": "reportApprover"
                            },
                            "primary": false
                        }
                    ]
                },
                "urn:ietf:params:scim:schemas:extension:spend:2.0:Delegate": {
                    "expense": [
                        {
                            "canApprove": true,
                            "canPrepare": true,
                            "canPrepareForApproval": true,
                            "canReceiveApprovalEmail": true,
                            "canReceiveEmail": true,
                            "canSubmit": true,
                            "canSubmitTravelRequest": true,
                            "canUseBi": true,
                            "canViewReceipt": true,
                            "delegate": {
                                "employeeNumber": "expenseDelegate"
                            },
                            "temporaryDelegatation": {
                                "temporaryDelegationFromDate": "2020-02-19T03:15:00.000Z",
                                "temporaryDelegationToDate": "2020-02-19T03:59:00.000Z"
                            }
                        }
                    ]
                },
                "urn:ietf:params:scim:schemas:extension:spend:2.0:Role": {
                    "roles": [
                        {
                            "roleName": "EXP_USER",
                            "roleGroups": ["R&D-Dev-Exp", "R&D-QA-Exp"]
                        }
                    ]
                },
                "urn:ietf:params:scim:schemas:extension:spend:2.0:WorkflowPreference": {
                    "emailStatusChangeOnCashAdvance": true,
                    "emailAwaitApprovalOnCashAdvance": true,
                    "emailStatusChangeOnReport": true,
                    "emailAwaitApprovalOnReport": true,
                    "promptForApproverOnReportSubmit": true,
                    "emailStatusChangeOnTravelRequest": true,
                    "emailAwaitApprovalOnTravelRequest": true,
                    "promptForApproverOnTravelRequestSubmit": true,
                    "emailStatusChangeOnPayment": true,
                    "emailAwaitApprovalOnPayment": true,
                    "promptForApproverOnPaymentSubmit": true
                },
                "urn:ietf:params:scim:schemas:extension:spend:2.0:UserPreference": {
                    "allowCreditCardTransArrivalEmails": true,
                    "allowReceiptImageAvailEmails": true,
                    "promptForCardTransactionsOnReport": true,
                    "autoAddTripCardTransOnReport": true,
                    "promptForReportPrintFormat": true,
                    "defaultReportPrintFormat": "DETAILED",
                    "showTotalOnReport": true,
                    "showExpenseOnReport": "ALL",
                    "showInstructHelpPanel": true,
                    "showImagingIntro": true,
                    "expenseAuditRequired": "REQUIRED",
                    "useQuickItinAsDefault": true
                },
                "urn:ietf:params:scim:schemas:extension:enterprise:2.0:Payroll": {
                    "adp": {
                        "companyCode": "companyCode",
                        "deductionCode": "HLTH",
                        "employeeFileNumber": "1234"
                    }
                }
            }
        }
    ]
}
```
