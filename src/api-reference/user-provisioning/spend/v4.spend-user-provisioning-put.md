---
title: Spend User Provisioning Put
layout: reference
---

# Spend User Provisioning - PUT

{% include prerelease.html %}

Spend User Provisioning allows callers to **REPLACE** a user and associated information in the SAP Concur spend domain.

## Replace Spend User Resources <a name="replace-spend-user-resource"></a>

By creating one or more provision requests using the `/Bulk` endpoint to replace existing spend user resources.

**PUT** is used as the provision operation for replacing an existing resource.

**NOTE:** We do not support an empty Spend User extension. However, if a PUT request is provided for an existing spend user with all blank fields, we will empty all other extensions and set the required fields back to the default values. 

### Scopes <a name="scopes"></a>

- `spend.user.general.writeonly` - Refer to [Scope Usage](./v4.spend-user-get-started.md#scope-usage) for full details.

### Request <a name="request"></a>

#### Endpoint: Bulk

```shell
POST https://www.us.api.concursolutions.com/provisioning/v4/Bulk?companyId={CompanyId}
```

#### Parameters

|Name|Type|Format|Description|
|----|:---:|:----:|-------------|
|CompanyId|`string`|[RFC 4122 A Universally Unique IDentifier (UUID) URN Namespace](https://tools.ietf.org/html/rfc4122)|The unique identifier of a Company. Required with X509 authentication.|

#### Headers

|Name|Type|Format|Description| 
|----|:---:|:----:|-----------|
|concur-correlationid|`string`|[RFC 4122 A Universally Unique IDentifier (UUID) URN Namespace](https://tools.ietf.org/html/rfc4122) | A SAP Concur specific custom header used for technical support|
|Content-Type|`string`| [RFC 7231 Content-Type](https://tools.ietf.org/html/rfc7231#section-3.1.1.5) | Specify the nature of the data in the body of an entity, by giving type and subtype identifiers, and by providing auxiliary information that may be required for certain types (https://www.w3.org/Protocols/rfc1341/4_Content-Type.html) </br> Ex: `application/json`, `application/scim+json`|

#### Payload

* [Bulk Request](#bulk-request)

### Response <a name="response"></a>

#### Status Codes

* [200 OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)
* [400 Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)
* [401 Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)
* [403 Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)
* [404 Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)
* [500 Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)
* [503 Service Unavailable](https://tools.ietf.org/html/rfc7231#section-6.6.4)

### Examples <a name="examples"></a>

#### Bulk Request

**NOTE:** The UUID within the ID attribute and path must be included within the data of the request.

```json
{
    "schemas": [
        "urn:ietf:params:scim:api:messages:2.0:BulkRequest"
    ],
    "failOnErrors": 1,
    "Operations": [
        {
            "method": "PUT",
            "path": "/Users/aaaaaaaa-bbbb-cccc-aaaa-bbbbbbbbbbb1",
            "bulkId": "Seattle",
            "data": {
                "id": "aaaaaaaa-bbbb-cccc-aaaa-bbbbbbbbbbb1",
                "userName": "john.doe21224@sap.com",
                "active": false,
                "name": {
                    "formatted": "Mr. John Doe",
                    "legalName": "Mr. John Doe",
                    "middleName": "Joe",
                    "middleInitial": "J",
                    "familyName": "Doe",
                    "givenName": "John",
                    "honorificPrefix": "Prof Dr Mr",
                    "honorificSuffix": "VI",
                    "hasNoMiddleName": true
                },
                "emails": [
                    {
                        "value": "john.doe193@sap.com",
                        "type": "work"
                    }
                ],
                "entitlements": [
                    "Expense"
                ],
                "urn:ietf:params:scim:schemas:extension:enterprise:2.0:User": {
                    "employeeNumber": "3749",
                    "companyId": "xxxxxxxx-xxx-xxx-xxx-9300b1c317xxx"
                },
                "urn:ietf:params:scim:schemas:extension:spend:2.0:User": {
                    "reimbursementCurrency": "USD",
                    "reimbursementType": "CONCUR_PAY",
                    "ledgerCode": "DEFAULT",
                    "country": "US",
                    "budgetCountryCode": "US",
                    "stateProvince": "WA",
                    "locale": "en-US",
                    "customData": [
                        {
                            "id": "custom1",
                            "value": "testing"
                        },
                        {
                            "id": "orgUnit2",
                            "value": "testSquadAlpha"
                        }
                    ]
                },
                "urn:ietf:params:scim:schemas:extension:spend:2.0:Approver": {
                    "request": [
                        {
                            "approver": {
                                "employeeNumber": "requestApprover"
                            },
                            "primary": true
                        }
                    ],
                },
            }
        }
    ]
}
```
